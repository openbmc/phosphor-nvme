{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ffd66791_ded20140",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 560,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2023-02-14T17:38:38Z",
      "side": 1,
      "message": "nit: let\u0027s declare this closer to where it gets used (at line 591)",
      "range": {
        "startLine": 560,
        "startChar": 0,
        "endLine": 560,
        "endChar": 41
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38d53072_dfff3d3d",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 560,
      "author": {
        "id": 1001264
      },
      "writtenOn": "2023-02-15T01:30:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ffd66791_ded20140",
      "range": {
        "startLine": 560,
        "startChar": 0,
        "endLine": 560,
        "endChar": 41
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1437fb8a_84cf7911",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 574,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2023-02-14T17:38:38Z",
      "side": 1,
      "message": "Hmm... does this make sense?\n\nShould we behave closer to when it was not successful (the else statement) and return?\n\nI guess we already set success to false above - do we even want to go through the below code? Should we return at line 571 after setting success\u003dfalse?",
      "range": {
        "startLine": 574,
        "startChar": 16,
        "endLine": 574,
        "endChar": 29
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cacd599_cdd8ce66",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 574,
      "author": {
        "id": 1001264
      },
      "writtenOn": "2023-02-15T01:30:04Z",
      "side": 1,
      "message": "nvmeSmbusErrCnt[] is for retry mechanism when smbus failed.\nI was thinking skipping retry when `isPwrGood` is false because smbus is going to failed anyway.\n\n\nIn original design, it doesn\u0027t return when success is false, it always continues setting the sensor reading and LED status.",
      "parentUuid": "1437fb8a_84cf7911",
      "range": {
        "startLine": 574,
        "startChar": 16,
        "endLine": 574,
        "endChar": 29
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "320a71a6_74e356ad",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 574,
      "author": {
        "id": 1001264
      },
      "writtenOn": "2023-02-22T00:53:42Z",
      "side": 1,
      "message": "Hi Brandon, are there any concerns of current patch? please kindly review this patch and let me know any modifications needed, thank you.",
      "parentUuid": "5cacd599_cdd8ce66",
      "range": {
        "startLine": 574,
        "startChar": 16,
        "endLine": 574,
        "endChar": 29
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "292d9d64_30412cab",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 574,
      "author": {
        "id": 1000388
      },
      "writtenOn": "2023-02-22T05:00:39Z",
      "side": 1,
      "message": "Ah you\u0027re right - I read this logic backwards.\n\nI think it\u0027s confusing because we\u0027re setting the error count to 0 even though we\u0027re definitely at an error state.\n\nInstead of overloading this conditional with \"success\", what if we made it so at the `if (isPwrGood) .... else` check in 566, we set:\n\n```\n// Skip retry below when isPwrGood is false because smbus is going to fail\nnvmeSmbusErrCnt[config.busID] \u003d maxSmbusErrorRetry;\n```\n\nThis way it\u0027s clear that we\u0027re going to the \"else\" to retry, but also skip the retry.",
      "parentUuid": "320a71a6_74e356ad",
      "range": {
        "startLine": 574,
        "startChar": 16,
        "endLine": 574,
        "endChar": 29
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "882d1902_59be014c",
        "filename": "nvme_manager.cpp",
        "patchSetId": 1
      },
      "lineNbr": 574,
      "author": {
        "id": 1001264
      },
      "writtenOn": "2023-02-22T08:56:27Z",
      "side": 1,
      "message": "Done.\nThanks a lot for the suggestions!",
      "parentUuid": "292d9d64_30412cab",
      "range": {
        "startLine": 574,
        "startChar": 16,
        "endLine": 574,
        "endChar": 29
      },
      "revId": "170042ebfd59459917a952bc114f509b0d5ddce6",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}